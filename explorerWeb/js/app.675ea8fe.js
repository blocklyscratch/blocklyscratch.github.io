(()=>{var e={91522:(e,t,o)=>{"use strict";var r=o(29104),i=o(69410),a=o(38734),n=o(61758);function l(e,t,o,r,i,a){const l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(l)}const s=(0,n.pM)({name:"App"});var d=o(12807);const c=(0,d.A)(s,[["render",l]]),u=c;var f=o(60604),m=o(30705);const p=(0,f.M_)((()=>{const e=(0,m.Ey)();return e}));var h=o(60455);const b=[{path:"/",component:()=>Promise.all([o.e(121),o.e(972)]).then(o.bind(o,46795))},{path:"/:catchAll(.*)*",component:()=>Promise.all([o.e(121),o.e(33)]).then(o.bind(o,95033))}],g=b,w=(0,f.wE)((function(){const e=h.Bt,t=(0,h.aE)({scrollBehavior:()=>({left:0,top:0}),routes:g,history:e("")});return t}));async function y(e,t){const o=e(u);o.use(i.A,t);const r="function"===typeof p?await p({}):p;o.use(r);const n=(0,a.IG)("function"===typeof w?await w({store:r}):w);return r.use((({store:e})=>{e.router=n})),{app:o,store:r,router:n}}var v=o(96428);const F={config:{},plugins:{Notify:v.A}},S="";async function P({app:e,router:t,store:o},r){let i=!1;const a=e=>{try{return t.resolve(e).href}catch(o){}return Object(e)===e?null:e},n=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=a(e);null!==t&&(window.location.href=t,window.location.reload())},l=window.location.href.replace(window.location.origin,"");for(let d=0;!1===i&&d<r.length;d++)try{await r[d]({app:e,router:t,store:o,ssrContext:null,redirect:n,urlPath:l,publicPath:S})}catch(s){return s&&s.url?void n(s.url):void 0}!0!==i&&(e.use(t),e.mount("#q-app"))}y(r.Ef,F).then((e=>{const[t,r]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default}))]:["all",e=>e.map((e=>e.default))];return Promise[t]([Promise.resolve().then(o.bind(o,86404)),Promise.resolve().then(o.bind(o,80660)),Promise.resolve().then(o.bind(o,79989))]).then((t=>{const o=r(t).filter((e=>"function"===typeof e));P(e,o)}))}))},80660:(e,t,o)=>{"use strict";o.r(t),o.d(t,{api:()=>a,default:()=>n});var r=o(60604),i=o(16526);const a=i.A.create({baseURL:"https://api.example.com"}),n=(0,r.zj)((({app:e})=>{e.config.globalProperties.$axios=i.A,e.config.globalProperties.$api=a,e.provide("axios",e.config.globalProperties.$axios)}))},86404:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>u});var r=o(60604),i=o(23537);const a={webSourceFrom:{fileOrDbModeOnly:"For file or database mode only",dbOrCloudModeOnly:"For database or cloud mode only"},sorting:{nameSort:"Sort by name",smallToBig:"Small to big",bigToSmall:"Big to small",folderLocation:"Directory location",onTheTop:"On the top",onTheBottom:"On the bottom",time:"Time sorting",adoptMD:"Use MD file",editMD:"Edit MD file",rebuild:"Rebuild MD file"},setting:{save:"Save settings"},build:{searchObj:"Update index"},member:{localWebPages:"Member local webpage",cloudWebPages:"Member Cloud WebPages"},notFound:"Not found",shareLink:"Share link",easyShareLink:"The article sharing link is as follows (just paste and share)",yourContent:"Your content",doubleClick:"Double-click twice to select",topic:"topic",title:"Title",easyPost:{for_Horizontal_image:"Horizontal images are suitable",for_vertical_image:"Straight image suitable (phone/computer)",photo:"Select/Drag image file",content:"Input/drag text file"},content:"content",hotkey:"shortcut key",template:{select:"Sample selection",publish:"Sample post"},imageFile:"Image",flipX:"Flip X",flipY:"Flip Y",reset:"reset",done:"Done",zoom_in:"zoom in",zoom_out:"zoom out",rotateL45:"rotate left",rotateR45:"rotate right",setup:"Setup",updating:"Updating..",finish:"complete",webSource:{fromCloud:"Data source: Cloud",fromDb:"Data source: Local Database",fromFile:"Data source: Local Files"},sync:{infoSyncSearchObj:"Please select data source from Local Database",fileToDb:"Add update file to local database",fileToDbBrief1:"Add or update files by date to the local database",fileToDbBrief2:"After clearing, copy the file to the local database",dbToFile:"Synchronize database to file",cloudToDb:"Sync cloud to database",cloudToDbBrief1:"Add or update by date from cloud to local database",cloudToDbBrief2:"After clearing, copy the cloud to the local library",dbToCloud:"Synchronize database to cloud",dbToCloudBrief1:"Add or update local database to cloud by date",dbToCloudBrief2:"After clearing, copy the local database to the cloud",updateCount:"Number of synchronized updates",readCount:"Number of simultaneous reads",addUpdate:"Add",cleanCopy:"Copy",dbToFile:"Add or update files",dbToFileBrief:"Add or update files by date to",shoudRebuildMenu:"The file name is automatically modified, please rebuild the menu"},loginRegister:{login:"Login",loginFirst:"Please login first",logout:"Logout",register:"register",forgot:"forgot password",username:"username",password:"password",rePassword:"Confirm",webName:"Webpage name",webBrief:"WebBrief"},settings:"Settings",allStatus:"all data",pause:"pause",resume:"continue",all:"all",failed:"error",success:"success",disconnect:"offline status",registerStatus:{error2:"Username is already in use",ok:"Registed",fail:"Registration failed",failPwd:"Wrong password",hasUser:"The same user name",theSameWebBase:"The same start position of web page"},userOptions:{title:"Personal Options",ui:"Operation",bUI:"Programming",restoreLayout:"Restore Layout"},delete:"Delete",webMode:"Web mode",drives:"Drives",fileSystem:"File System",shortcuts:"Shortcuts",cut:"Cut",copy:"Copy",paste:"Paste",selectAll:"Select all",undoAll:"Undo All",removing:"Removing",remove:"remove",name:"Name",badge:"Badge",text:"text",list:"list",colour:"color",variables:"variables",functions:"function",motion:"action",sensing:"detection",second:"second",cancel:"Cancel",confirm:"confirm",levelup:"upgrade",start:"Start",fullscreen:"full screen",suggest:"suggestion",restart:"restart",from:"From",to:"To",file:{file:"File",new:"New File",newFolder:"New Folder",copying:"File Copying",moving:"File Moving",exist:"File exist",notExist:"File does not exist",renameError:"Rename Error",rename:"Rename",renameExit:"Exit Rename"},size:"Size",status:"Status",state2:"Error",overwrite:"overwrite",update:"update",upload:"upload",all:"all",fileStatus:{sizeBlockCount:"Too large",copyWriteCount:"Write",copyOverwriteCount:"Overwritten",copyUpdateCount:"Updated",moveErrorListCount:"move error",moveNoSourceListCount:"no source",moveListCount:"moved count",moveOverwriteListCount:"moved (overwrite) count",state0:"Finish",state1:"Processing",state2:"Error",state31:"File already exists (overwrite, update or cancel)?",state32:"File already exists (overwrite or cancel)?"}},n={webSourceFrom:{fileOrDbModeOnly:"檔案 或 資料庫  模式時可同步",dbOrCloudModeOnly:"資料庫 或 雲端 模式時可同步"},sorting:{nameSort:"名稱排序",smallToBig:"小到大",bigToSmall:"大到小",folderLocation:"目錄位置",onTheTop:"在上方",onTheBottom:"在下方",time:"時間排序",adoptMD:"使用MD檔",editMD:"編輯MD檔",rebuild:"重建MD檔"},setting:{save:"儲存設定"},build:{searchObj:"更新索引"},member:{localWebPages:"會員本地網頁",cloudWebPages:"會員雲端網頁"},notFound:"無相關資料",shareLink:"分享連結",easyShareLink:"文章分享連結如下 (已複製, 可直接貼上分享)",yourContent:"您的內容",doubleClick:"按兩下選擇樣板",topic:"主題",title:"主題",easyPost:{for_Horizontal_image:"橫式圖片適用",for_vertical_image:"直式圖片適用(手機/電腦)",photo:"選擇/拖入 圖檔",content:"輸入/拖入 文字檔"},content:"內容",hotkey:"快捷鍵",template:{select:"樣板選擇",publish:"樣板發文"},imageFile:"圖檔",flipX:"水平翻轉",flipY:"垂直翻轉",reset:"重設",done:"完成",zoom_in:"放大",zoom_out:"縮小",rotateL45:"左旋轉",rotateR45:"右旋轉",setup:"設定",updating:"更新中..",finish:"完成",webSource:{fromCloud:"資料來源:雲端",fromDb:"資料來源:本機資料庫",fromFile:"資料來源:本機檔案庫"},sync:{infoSyncSearchObj:"請選擇 資料來源 為 本機資料庫",fileToDb:"新增更新檔案到本地資料庫",fileToDbBrief1:" 新增 或 依日期更新 檔案到本地料庫",fileToDbBrief2:" 清空 後 複製檔案到本地料庫",dbToFile:"同步資料庫到檔案",cloudToDb:"同步雲端到資料庫",cloudToDbBrief1:" 新增 或 依日期更新 雲端到本地料庫",cloudToDbBrief2:" 清空 後 複製 雲端到本地料庫",dbToCloud:"同步資料庫到雲端",dbToCloudBrief1:" 新增 或 依日期更新 本地料庫到雲端",dbToCloudBrief2:" 清空 後 複製 本地料庫到雲端",updateCount:"同步更新數",readCount:"同步讀取數",addUpdate:"新增或更新",cleanCopy:"清空後複製",dbToFile:"新增或更新檔案",dbToFileBrief:"新增 或 依日期更新 檔案到",shoudRebuildMenu:"自動修改檔名，請重建選單"},loginRegister:{login:"登入",loginFirst:"請先登入",logout:"登出",register:"註冊",forgot:"忘記密碼",username:"使用者名稱",password:"密碼",rePassword:"確認密碼",webName:"網頁名稱",webBrief:"網頁簡述"},settings:"設定",allStatus:"所有數據",pause:"暫停",resume:"繼續",all:"全部",failed:"錯誤",success:"成功",disconnect:"離線狀態",registerStatus:{error2:"使用者名稱已被使用",ok:"註冊成功",fail:"註冊失敗",failPwd:"密碼錯誤",hasUser:"使用者名稱已註冊",theSameWebBase:"網址起始位置已被註冊"},userOptions:{title:"個人選項",ui:"操作介面",bUI:"程式介面",restoreLayout:"復原版面"},delete:"刪除",webMode:"網頁模式",drives:"檔案目錄",fileSystem:"檔案目錄",shortcuts:"捷徑",cut:"剪下",copy:"複製",paste:"貼上",selectAll:"全選",undoAll:"還原",removing:"移除",remove:"移除",name:"名字",badge:"徽章",text:"文字",list:"列表",colour:"顏色",variables:"變數",functions:"函式",motion:"動作",sensing:"偵測",second:"秒",cancel:"取消",confirm:"確認",levelup:"升級",start:"開始",fullscreen:"全螢幕",suggest:"建議",restart:"重新開始",copying:"檔案複製",moving:"檔案移動",exist:"檔案存在",notExist:"檔案不存在",renameError:"重新命名錯誤",size:"大小",status:"狀況",overwrite:"取代",update:"更新",upload:"上傳",all:"全部",from:"從",to:"到",file:{file:"檔案",new:"新檔案",newFolder:"新目錄",copying:"檔案複製",moving:"檔案移動",exist:"檔案已存在",notExist:"檔案不存在",renameError:"改名錯誤",rename:"修改檔名",renameExit:"離開改名模式"},fileStatus:{sizeBlockCount:"檔案太大數",copyWriteCount:"新增檔案數",copyOverwriteCount:"覆蓋檔案數",copyUpdateCount:"更新檔案數",moveErrorListCount:"移動錯誤",moveNoSourceListCount:"無來源",moveListCount:"移動次數",moveOverwriteListCount:"移動（覆蓋）計數",state0:"完成",state1:"處理中",state2:"錯誤",state31:"檔案己存在 (覆蓋,更新或取消)"}},l={webSourceFrom:{fileOrDbModeOnly:"档案 或 资料库  模式时可同步",dbOrCloudModeOnly:"资料库 或 云端 模式时可同步"},sorting:{nameSort:"名称排序",smallToBig:"小到大",bigToSmall:"大到小",folderLocation:"目录位置",onTheTop:"在上方",onTheBottom:"在下方",time:"时间排序",adoptMD:"使用MD档",editMD:"编辑MD档",rebuild:"重建MD档"},setting:{save:"储存设定"},build:{searchObj:"更新索引"},member:{localWebPages:"会员本地网页",cloudWebPages:"会员云端网页"},notFound:"无相关资料",shareLink:"分享连结",easyShareLink:"文章分享连结如下 (已复制, 可直接贴上分享)",yourContent:"您的内容",doubleClick:"按两下选择样板",topic:"主题",title:"主题",easyPost:{for_Horizontal_image:"横式图片适用",for_vertical_image:"直式图片适用(手机/电脑)",photo:"选择/拖入 图档",content:"输入/拖入 文字档"},content:"内容",hotkey:"快捷键",template:{select:"样板选择",publish:"样板发文"},imageFile:"图档",flipX:"水平翻转",flipY:"垂直翻转",reset:"重设",done:"完成",zoom_in:"放大",zoom_out:"缩小",rotateL45:"左旋转",rotateR45:"右旋转",setup:"设定",updating:"更新中..",finish:"完成",webSource:{fromCloud:"资料来源:云端",fromDb:"资料来源:本机资料库",fromFile:"资料来源:本机档案库"},sync:{infoSyncSearchObj:"请选择 资料来源 为 本机资料库",fileToDb:"新增更新档案到本地资料库",fileToDbBrief1:" 新增 或 依日期更新 档案到本地料库",fileToDbBrief2:" 清空 后 复制档案到本地料库",dbToFile:"同步资料库到档案",cloudToDb:"同步云端到资料库",cloudToDbBrief1:" 新增 或 依日期更新 云端到本地料库",cloudToDbBrief2:" 清空 后 复制 云端到本地料库",dbToCloud:"同步资料库到云端",dbToCloudBrief1:" 新增 或 依日期更新 本地料库到云端",dbToCloudBrief2:" 清空 后 复制 本地料库到云端",updateCount:"同步更新数",readCount:"同步读取数",addUpdate:"新增或更新",cleanCopy:"清空后复制",dbToFile:"新增或更新档案",dbToFileBrief:"新增 或 依日期更新 档案到",shoudRebuildMenu:"自动修改档名，请重建选单"},loginRegister:{login:"登入",loginFirst:"请先登入",logout:"登出",register:"注册",forgot:"忘记密码",username:"使用者名称",password:"密码",rePassword:"确认密码",webName:"网页名称",webBrief:"网页简述"},settings:"设定",allStatus:"所有数据",pause:"暂停",resume:"继续",all:"全部",failed:"错误",success:"成功",disconnect:"离线状态",registerStatus:{error2:"使用者名称已被使用",ok:"注册成功",fail:"注册失败",failPwd:"密码错误",hasUser:"使用者名称已注册",theSameWebBase:"网址起始位置已被注册"},userOptions:{title:"个人选项",ui:"操作介面",bUI:"程式介面",restoreLayout:"复原版面"},delete:"删除",webMode:"网页模式",drives:"档案目录",fileSystem:"档案目录",shortcuts:"捷径",cut:"剪下",copy:"复制",paste:"贴上",selectAll:"全选",undoAll:"还原",removing:"移除",remove:"移除",name:"名字",badge:"徽章",text:"文字",list:"列表",colour:"颜色",variables:"变数",functions:"函式",motion:"动作",sensing:"侦测",second:"秒",cancel:"取消",confirm:"确认",levelup:"升级",start:"开始",fullscreen:"全萤幕",suggest:"建议",restart:"重新开始",copying:"档案复制",moving:"档案移动",exist:"文件存在",notExist:"档案不存在",renameError:"重命名错误",size:"大小",status:"状况",state2:"错误",overwrite:"取代",update:"更新",upload:"上传",all:"全部",from:"从",to:"到",file:{file:"档案",new:"新档案",newFolder:"新目录",copying:"档案复制",moving:"档案移动",exist:"档案已存在",notExist:"档案不存在",renameError:"改名错误",rename:"修改档名",renameExit:"离开改名模式"},fileStatus:{sizeBlockCount:"档案太大数",copyWriteCount:"新增档案数",copyOverwriteCount:"覆盖档案数",copyUpdateCount:"更新档案数",moveErrorListCount:"移动错误",moveNoSourceListCount:"无来源",moveListCount:"移动次数",moveOverwriteListCount:"移动（覆盖）计数",state0:"完成",state1:"处理中",state2:"错误",state31:"档案己存在 (覆盖,更新或取消)"}},s={"en-US":a,"zh-TW":n,"zh-CN":l};var d=o(36202),c=o(39787);const u=(0,r.zj)((({app:e})=>{const t=(0,i.hU)({locale:"en-US",globalInjection:!0,messages:s,legacy:!1});e.use(t),e.use(d.A),e.use(c.ai,{paths:{vs:"monaco-editor-0.47.0/min/vs"}})}))},79989:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});o(10239);var r=o(50184),i=o(55641);o(58828);const a=({app:e,router:t,store:o,Vue:a})=>{const l=(0,r.B)(),s=(0,i.F)();function d(e){return null!=s.webModeStartPath&&null!=s.pathSep&&(e!=s.pathSep?("\\"==s.pathSep&&(e=e.split("/").join("\\")),e=s.webModeStartPath+e):e=s.webModeStartPath),e}function c(e){return null!=s.webModeStartPath&&null!=s.pathSep&&null!=e&&(e=s.webModeStartPath+e),e}t.beforeEach(((e,o,r)=>{let i=window.location.href.split("?")[0];if(l.href=i.split("#/")[1],void 0!=e.query.autologin)l.autologin=e.query;else if(void 0!=e.query.userid){s.showSearchResult=!1,l.explorer=e.query;let t=d(n(s.pathSep,e.query.path));e.query.path[e.query.path.length-1]==s.pathSep?(s.selectedFolder!=t?(s.shortcutSelected=!0,s.selectedFolder=t):s.reloadFolder=!0,s.webFullPathFileWebType="",s.webFullPathFileSelected=null):(s.selectedFolder!=t?(s.shortcutSelected=!0,s.selectedFolder=t):l.explorer.path.indexOf("/index.")>-1&&(s.reloadFolder=!0),s.webFullPathFileWebType=l.explorer.path.split(".").pop(),s.webFullPathFileSelected=c(l.explorer.path)),void 0!=l.explorer.anchor&&(l.anchorDoGoTo=!0)}else if(void 0==e.query.userid&&void 0!=e.query.path){let o=`/${l.href}?userid=${l.explorer.userid}&path=${e.query.path}`;return void t.push(o)}e.meta.requireLogin,r()}))};function n(e,t){let o="";if(t[t.length-1]==e){let r=t.split(e);r.length>2&&r.pop(),o=r.join(e)}else{let r=t.split(e);r.length>2?r.pop():r[r.length-1]="",o=r.join(e)}return o}},23511:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var r=o(93361).IndexedDb;let i={};function a(){function e(e,t){return new Promise((async function(o,a){void 0==i[e]&&(i[e]={}),void 0==i[e][t]&&(i[e][t]={dbbase:null,docsTarget:null,collectionName:t});try{new r({namespace:e},(r=>{r.addCollection(t,(()=>{i[e][t].dbbase=r,i[e][t].docsTarget=r[t],o()}))}))}catch(n){o()}}))}function t(e,t,o={}){if(void 0==i[e]||void 0==i[e][t])return;let r=i[e][t].docsTarget;return new Promise((async function(e,t){null!=r?r.find(o).fetch((t=>{e(t)}),(e=>{})):e(!1)}))}function o(e,t,o,r){if(void 0==i[e]||void 0==i[e][t])return;let a=i[e][t].docsTarget;return new Promise((async function(e,t){null!=a?a.findOne(o,r,(t=>{e(t)}),(t=>{e(!1)})):e(!1)}))}function a(e,t,o,r,a){if(void 0==i[e]||void 0==i[e][t])return;let n=i[e][t].docsTarget;return new Promise((async function(e,t){null!=n?n.findOne(o,r,(t=>{null==t&&(t={}),Object.keys(o).forEach((e=>{t[e]=o[e]})),Object.keys(a).forEach((e=>{t[e]=a[e]})),n.upsert(t,(()=>{e(t)}),(()=>{e(!1)}))}),(e=>{})):e(!1)}))}function n(e,t,o,r){if(void 0==i[e]||void 0==i[e][t])return;let a=i[e][t].docsTarget;return new Promise((async function(e,t){null!=a?a.findOne(o,r,(t=>{null==t?e(!0):a.remove(t._id,(()=>{e(!0)}))}),(e=>{})):e(!1)}))}function l(e,t){if(void 0==i[e]||void 0==i[e][t])return;let o=i[e][t].dbbase,r=i[e][t].docsTarget,a=i[e][t].collectionName;return new Promise((async function(e,t){null!=r&&o.removeCollection(a,(()=>{o.addCollection(a,(()=>{r=o[a],e(!0)}))}))}))}return{initNSpaceCollection:e,findAll:t,findOne:o,findOneAndUpdate:a,findOneAndRemove:n,removeAll:l}}let n={};function l(){return new Promise((async function(e,t){let o=await indexedDB.databases();for(let r of o)await s(r.name);e(!0)}))}function s(e){return new Promise((async function(t,o){let r=await indexedDB.open(e);r.onerror=e=>{t()},r.onsuccess=e=>{let o=e.target.result.objectStoreNames[0];if(null!=o)if(o.indexOf("minimongo_")>-1){let r=o.replace("minimongo_","");n[r]="";let i=e.target.result.transaction(o).objectStore(o).openCursor();i.onerror=e=>{t()},i.onsuccess=e=>{let o=e.target.result;o&&(n[r]=o.primaryKey[0],t())}}else t();else t()}}))}(async()=>{await l()})()},55641:(e,t,o)=>{"use strict";o.d(t,{F:()=>H});var r=o(30705);const i={getProcess(){let e=myShell.getProcess();return e},async getHomedir(){let e=await myShell.getHomedir();return e},async njsFn(e,t){let o=await myShell.njsFn(e,t);return o},async njsFn2Db(e,t){let o=await myShell.njsFn2Db(e,t);return o},async njsAsync(e,t){let o=await myShell.njsAsync(e,t);return o}};o(10239);var a=o(23511),n=o(50184);const l={error1:"Can't find the file",error2:"Can't find the folder",error3:"The same name"},s=(0,a.A)(),d=o(71552),c=(0,n.B)();let u={},f={};function m(e,t){let o=(new Date).getTime().toString(),r=d(Math.random().toFixed(16).slice(2))+o.slice(3,10);e[t]={_id:r,path:t,file:{},dir:{}}}async function p(e){return new Promise((async function(t,o){let r="";if(void 0==u[e]._id){let e=(new Date).getTime().toString();r=d(Math.random().toFixed(16).slice(2))+e.slice(3,10)}else r=u[e]._id;let i=await s.findOneAndUpdate(c.explorer.userid+"pathFs","eWeb",{_id:r},{},u[e]);t(i)}))}async function h(e){return new Promise((async function(t,o){u={};let r=await s.findAll(e+"pathFs","eWeb",{});if(r){0==r.length&&(await S("/recycleFolder"),r=await s.findAll(e+"pathFs","eWeb",{}));let o={};for(let e of r)"dbPathFSRefByDidFid"==e._id?f=e:"/"==e.path?u["/"]=e:o[e._id]=e;b(o,u,"/"),t(u)}else $q.notify({type:"info",position:"center",message:"load indexDB fail",timeout:300}),t()}))}function b(e,t,o){let r=t[o].dir,i=t[o].path;if(void 0!=r)for(let a of Object.keys(r))if(void 0!=e[r[a]]){let o=i+"/"+a;"/"==i&&(o="/"+a),t[o]=e[r[a]],t[o].path=o,b(e,t,o)}}function g(e,t){let o=t.split(e),r=o[0];o.splice(o.length-1,1);let i=o.join(e),a=e;return i==r&&(i+=e,a=""),{fullPath:t,path:i,name:t.replace(i+a,"")}}async function w(e){return new Promise((async function(t,o){let r=g("/",e.fullPath),i=u[r.path];void 0==i||void 0==i.dir[r.name]&&void 0==i.file[r.name]?(await S(e.fullPath),t({done:!0})):t({done:!1,stat:3,msg:l.error3})}))}async function y(e){return new Promise((async function(t,o){let r=g("/",e.fullPath),i=u[r.path];if(void 0!=i){if(void 0!=i.dir[r.name]||void 0!=i.file[r.name])return void t({done:!1,stat:3,msg:l.error3})}else await S(r.path),i=u[r.path];let a=(new Date).getTime();return i.file[r.name]={fId:d(e.fullPath)+a.toString().slice(3,10),mtimeMs:a,webUrl:e.fullPath},await p(r.path)?void t({done:!0}):void t({done:!1})}))}async function v(e){return new Promise((async function(t,o){if(e.from==e.to)return void t({done:!1,stat:1,msg:"The same name"});let r=g("/",e.from),i=g("/",e.to),a=u[r.path];if(void 0==a)return void t({done:!1,stat:2,msg:l.error2});if(void 0!=a.dir[i.name]||void 0!=a.file[i.name])return void t({done:!1,stat:3,msg:l.error3});if(void 0!=a.dir[r.name])delete a.dir[r.name],a.dir[i.name]=!0,await p(r.path);else{if(void 0==a.file[r.name])return void t({done:!1,stat:1,msg:l.error1+e.from});{let e=a.file[r.name];delete a.file[r.name],e.webUrl=("/"==r.path?"/":r.path+"/")+i.name,a.file[i.name]=e,await p(r.path)}}let n={state:!0};t(n)}))}async function F(e){return new Promise((async function(t,o){let r=g("/",e),i=u[r.path];if(void 0==i)return void t({done:!1,stat:2,msg:l.error2});if(void 0==i.file[r.name])return void t({done:!1,stat:1,msg:l.error1+e});let a=await s.findOne(c.explorer.userid+"fileFs","eWeb",{_id:i.file[r.name].fId},{});return null==a?void t({done:!0,data:"",msg:l.error1,thePathFS:i.file[r.name]}):void t({done:!0,data:a.dataStr})}))}async function S(e){return new Promise((async function(t,o){if("/"!=e){void 0==u[e]&&(m(u,e),await p(e));let t=e.split("/");if(t.length>1){let o=t.slice(0,t.length-1).join("/");""==o&&(o="/"),void 0==u[o]&&m(u,o),u[o].dir[t[t.length-1]]=u[e]._id,await p(o),"/"!=o&&await S(o)}}t(!0)}))}function P(e,t){return new Promise((async function(o,r){if(0==e.path.indexOf("/recycleFolder")){let t=u[e.path].file,r=u[e.path].dir;if(void 0!=r[e.name])return delete r[e.name],await p(e.path),await s.findOneAndRemove("pathFs","eWeb",{_id:u[e.fullPath]._id},{}),delete u[e.fullPath],void o(!0);void 0!=t[e.name]?(await s.findOneAndRemove(c.explorer.userid+"fileFs","eWeb",{_id:t[e.name].fId},{}),delete t[e.name],await p(e.path),o(!0)):o(!0)}else{let r="/"==e.path?"/recycleFolder":"/recycleFolder"+e.path;if(await S(r),void 0!=u[e.path].file[e.name]){let i=u[r].file;if(void 0==i[e.name])i[e.name]=u[e.path].file[e.name];else{let t,o=C(e.name);""==o?t=e.name+"_"+Math.random().toFixed(6).slice(2):(o="."+o,t=e.name.replace(o,"")+"_"+Math.random().toFixed(6).slice(2)+o),i[t]=u[e.path].file[e.name]}await p(r),t&&(delete u[e.path].file[e.name],await p(e.path)),o(!0)}else if(void 0!=u[e.path].dir[e.name]){let i=r+"/"+e.name,a=e.name,n=u[r].dir;if(void 0!=n[e.name]){let t=C(e.name);""==t?a=e.name+"_"+Math.random().toFixed(6).slice(2):(t="."+t,a=e.name.replace(t,"")+"_"+Math.random().toFixed(6).slice(2)+t),i=r+"/"+a}n[a]=u[e.path].dir[e.name],await p(r),t&&(delete u[e.path].dir[e.name],await p(e.path)),await h(user),o(!0)}else o(!1)}}))}async function D(e,t,o){return new Promise((async function(r,i){if(await S(t.fullPath),void 0!=u[e.path].file[e.name]){let i=u[t.fullPath].file;if(void 0==i[e.name])i[e.name]=u[e.path].file[e.name];else{let t,o=C(e.name);""==o?t=e.name+"_"+Math.random().toFixed(6).slice(2):(o="."+o,t=e.name.replace(o,"")+"_"+Math.random().toFixed(6).slice(2)+o),i[t]=u[e.path].file[e.name]}await p(t.fullPath),o?N(e.name,u[e.path].file[e.name].fId):(delete u[e.path].file[e.name],await p(e.path)),r(!0)}else if(void 0!=u[e.path].dir[e.name]){let i=e.name,a=t.fullPath,n=u[a].dir;if(void 0!=n[e.name]){let t=C(e.name);""==t?i=e.name+"_"+Math.random().toFixed(6).slice(2):(t="."+t,i=e.name.replace(t,"")+"_"+Math.random().toFixed(6).slice(2)+t)}o?await E(e,a,i):(n[i]=u[e.path].dir[e.name],await p(a),delete u[e.path].dir[e.name],await p(e.path)),await h(user),r(!0)}else r(!1)}))}function C(e){let t=e.split(".");return 1==t.length?"":t.pop()}async function O(e){return new Promise((async function(t,o){let r=g("/",e.fullPath),i=u[r.path];if(void 0==i)return void t({done:!1,stat:2,msg:l.error2});if(void 0!=i.dir[r.name])return void t({done:!1,stat:3,msg:l.error3});void 0!=i.file[r.name]&&await P(r,!1);let a=(new Date).getTime();i.file[r.name]={fId:d(e.fullPath)+a.toString().slice(3,10),mtimeMs:a,webUrl:e.fullPath},await p(r.path),await s.findOneAndUpdate(c.explorer.userid+"fileFs","eWeb",{_id:i.file[r.name].fId},{},{dataStr:e.data,webUrl:e.fullPath}),t({done:!0})}))}async function T(e){return new Promise((async function(t,o){let r=[],i=u[e];if(void 0!=i){for(let t of Object.keys(i.dir))r.push({rootDir:e,fileName:t,isDir:!0,node:{label:t,nodeKey:1==e.length?"/"+t:e+"/"+t,expandable:!0,tickable:!1,lazy:!0,children:[],data:{rootDir:e,isDir:!0,stat:{mtimeMs:0}}}});for(let t of Object.keys(i.file))r.push({rootDir:e,fileName:t,isDir:!1,node:{label:t,nodeKey:1==e.length?"/"+t:e+"/"+t,expandable:!1,tickable:!1,lazy:!1,children:[],data:{rootDir:e,isDir:!1,stat:{mtimeMs:i.file[t]}}}})}t(r)}))}const x={async initWebSourceFrom(){return{stat:!0}},async reloadDBPathFSByLabel(){let e=c.explorer.userid;await s.initNSpaceCollection(e+"pathFs","eWeb"),await s.initNSpaceCollection(e+"fileFs","eWeb");let t=await h(e);return{stat:!0,dbPathFSByLabel:t}},getProcess(){return{platform:"webFs"}},async getHomedir(){return"/"},async njsFn2Db(e,t){},async njsAsync(e,t){switch(e){case"newFolder":return await w(t);case"newFile":return await y(t);case"rename":return await v(t);case"readFile":return await F(t);case"writeFile":return await O(t);case"getFolderDirFile":return await T(t);default:}},async njsFn(e,t){switch(e){case"removeList":return k(t.removeList),"removeList";case"moveList":return A(t.fromList,t.to,t.option),"moveList";case"copyList":return W(t.fromList,t.to,t.option),"copyList";case"copying":return"copying";case"stateOfWorking":return void 0==j[L]?{remove:0,move:0,file:0,size:0,copyWriteCount:0,sizeBlockCount:0,state:0}:void 0!=j[L].remove?{remove:j[L].remove,state:j[L].state}:void 0!=j[L].move?{from:j[L].from,to:j[L].to,file:g("/",j[L].from).name,size:j[L].fileSizeInfo.size,moveErrorListCount:j[L].moveErrorList.length,moveNoSourceListCount:j[L].moveNoSourceList.length,moveListCount:j[L].moveList.length,moveOverwriteListCount:j[L].moveOverwriteList.length,state:j[L].state}:j[L].isFromFolder?{from:j[L].from,to:j[L].to,file:"",size:0,sizeBlockCount:0,copyWriteCount:0,copyOverwriteCount:0,copyUpdateCount:0,state:j[L].state}:{from:j[L].from,to:j[L].to,file:path.basename(j[L].from),size:j[L].fileSizeInfo.size,noSourceListCount:j[L].copyNoSourceList.length,sizeBlockCount:j[L].copySizeBlockList.length,copyWriteCount:j[L].copyWriteList.length,copyOverwriteCount:j[L].copyOverwriteList.length,copyUpdateCount:j[L].copyUpdateList.length,state:j[L].state};case"breakOfWorking":return B=!0,"break";case"setOverwrite":return"setOverwrite";default:break}}};let L="id12345678",B=!1,j={["idRandomNumber"]:{}};async function k(e){for(let t of e){if(!await M(t))break;if(B)break}delete j[L]}function M(e){return new Promise((async function(t,o){void 0==j[L]?(L="id"+Math.random().toFixed(8).slice(2),B=!1,j[L]={remove:e,state:1}):j[L].remove=e;let r=g("/",e),i=u[r.path];void 0!=i.file[r.name]||void 0!=i.dir[r.name]?(await P(r,!0),t(!0)):t(!1)}))}async function A(e,t,o){for(let r of e){if(!await _(r,t,o))break;if(B)break}delete j[L]}async function _(e,t,o){return new Promise((async function(r,i){let a=!1;e=e.split("\\").join("/"),t=t.split("\\").join("/");try{let i=g("/",e),n=g("/",t);void 0!=u[i.path].dir[i.name]&&(a=!0),void 0==j[L]?(L="id"+Math.random().toFixed(8).slice(2),B=!1,j[L]={move:!0,from:e,isFromFolder:a,to:t,moveErrorList:[],moveNoSourceList:[],moveList:[],moveOverwriteList:[],fileSizeInfo:{src:e,size:-1},state:1,overwrite:void 0==o.overwrite?0:o.overwrite}):j[L].from=e,await D(i,n,!1),r(!0)}catch(n){j[L].moveNoSourceList.push(e),j[L].fileSizeInfo={src:e,size:-1},r(!0)}}))}async function W(e,t,o){for(let r of e){if(r.length<=t.length&&0==t.indexOf(r));else if(!await z(r,t,o))break;if(B)break}delete j[L]}function z(e,t,o){return new Promise((async function(r,i){let a=!1;e=e.split("\\").join("/"),t=t.split("\\").join("/");try{let i=g("/",e),n=g("/",t);void 0!=u[i.path].dir[i.name]&&(a=!0),void 0==j[L]?(L="id"+Math.random().toFixed(8).slice(2),B=!1,j[L]={from:e,isFromFolder:a,to:t,copyNoSourceList:[],copySizeBlockList:[],copyWriteList:[],copyOverwriteList:[],copyUpdateList:[],fileSizeInfo:null,sizeLimit:void 0==o.sizeLimit?0:o.sizeLimit,state:1,overwrite:void 0==o.overwrite?0:o.overwrite,fileFolder:{}}):(j[L].from=e,j[L].isFromFolder=a,j[L].to=t),await D(i,n,!0),r(!0)}catch(n){j[L].copyNoSourceList.push(e),j[L].fileSizeInfo={src:e,size:-1},r(!0)}}))}async function N(e,t){void 0==f[t]?f[t]={debug:e,count:2}:f[t].count++,await s.findOneAndUpdate(c.explorer.userid+"pathFs","eWeb",{_id:"dbPathFSRefByDidFid"},{},f)}async function E(e,t,o){return new Promise((async function(r,i){let a="/"==e.path?e.path+e.name:e.path+"/"+e.name,n="/"==t?t+o:t+"/"+o,l=[],s=[];I(l,s,a);let d={};for(let e of l){N(e.fileName,e.fId);let t=e.path;0==t.indexOf(a)&&(t=t.replace(a,n));let o=u[e.path].file[e.fileName];U(d,t),d[t].file[e.fileName]=o,await S(t),u[t].file[e.fileName]=o,await p(t)}for(let e of s){let t=e.fullPath.replace(a,n);void 0==u[t]&&(U(d,t),await S(t))}r(!0)}))}function U(e,t){if("/"!=t){void 0==e[t]&&m(e,t);let o=t.split("/");if(o.length>1){let r=o.slice(0,o.length-1).join("/");""==r&&(r="/"),void 0==e[r]&&m(e,r),e[r].dir[o[o.length-1]]=e[t]._id,"/"!=r&&U(e,r)}}}function I(e,t,o){let r=u[o];if(void 0!=r){for(let t of Object.keys(r.file))e.push({fileName:t,fId:r.file[t].fId,path:o});for(let i of Object.keys(r.dir)){let r=o+"/"+i;I(e,t,r)}}t.push({fullPath:o})}let R={file:{getProcess:i.getProcess,getHomedir:i.getHomedir,njsAsync:i.njsAsync,njsFn:i.njsFn,njsFn2Db:i.njsFn2Db},db:{initWebSourceFrom:x.initWebSourceFrom,reloadDBPathFSByLabel:x.reloadDBPathFSByLabel,getProcess:x.getProcess,getHomedir:x.getHomedir,njsAsync:x.njsAsync,njsFn:x.njsFn,njsFn2Db:x.njsFn2Db},cloud:{initWebSourceFrom:x.initWebSourceFrom,reloadDBPathFSByLabel:x.reloadDBPathFSByLabel,getProcess:x.getProcess,getHomedir:x.getHomedir,njsAsync:x.njsAsync,njsFn:x.njsFn,njsFn2Db:x.njsFn2Db}};const H=(0,r.nY)("explorer",{state:()=>({dbFsVersion:"1.0",doInitOnceOnly:!0,fnChangeWebSrouceFrom:null,webOnly:!1,webMode:!1,webSourceFrom:"file",webModeFolderDefaultBanner:null,webModeFolderDefaultContent:"",webModeStartPath:"/",webFullPathFileSelected:null,webFullPathFileWebType:"",routePinia:(0,n.B)(),pathSep:"/",rootDir:[],selectedFolder:null,selectedFolderBack:[],selectedFolderForward:[],selectedWebBack:[],selectedWebForward:[],folderIni:{sortName:!0,sortFolder:!1},folderIniEdit:null,process:{platform:"linux"},homeDir:null,shortcutSelected:!1,reloadFolder:!1,fileDbSwitchSetting:{file:{pathSep:"/",selectedFolder:null,selectedFolderBack:[],selectedFolderForward:[],selectedWebBack:[],selectedWebForward:[],homeDir:null,process:{platform:"linux"},webModeStartPath:null},db:{pathSep:"/",selectedFolder:null,selectedFolderBack:[],selectedFolderForward:[],selectedWebBack:[],selectedWebForward:[],homeDir:null,process:{platform:"linux"},webModeStartPath:"/"},cloud:{pathSep:"/",selectedFolder:null,selectedFolderBack:[],selectedFolderForward:[],selectedWebBack:[],selectedWebForward:[],homeDir:null,process:{platform:"linux"},webModeStartPath:"/"}},selectTemplate:{},selectTemplateToggle:!0,selectObjectUrl:null,searchRecordLabel:"__searchRecord--",searchObjUpdated:1,searchObj:{},searchObjJSON:{},showSearchResult:!1,workerByUid:{}}),getters:{},actions:{async initPathSep(){this.process=await R[this.webSourceFrom].getProcess(),"win32"==this.process.platform&&(this.pathSep="\\",this.fileDbSwitchSetting.file.pathSep="\\"),null==this.homeDir&&(this.homeDir=await R[this.webSourceFrom].getHomedir(),this.selectedFolder=this.homeDir),"file"==this.webSourceFrom?null==this.fileDbSwitchSetting.db.homeDir&&(this.fileDbSwitchSetting.db.homeDir=await R["db"].getHomedir(),this.fileDbSwitchSetting.db.selectedFolder=await R["db"].getHomedir()):(null==this.fileDbSwitchSetting.file.homeDir&&(this.fileDbSwitchSetting.file.homeDir=await R["file"].getHomedir(),this.fileDbSwitchSetting.file.selectedFolder=await R["file"].getHomedir()),null==this.fileDbSwitchSetting.cloud.homeDir&&(this.fileDbSwitchSetting.cloud.homeDir=await R["cloud"].getHomedir(),this.fileDbSwitchSetting.cloud.selectedFolder=await R["cloud"].getHomedir()))},async initWebDb(){"cloud"==this.webSourceFrom?await R["cloud"].initWebSourceFrom():await R["db"].initWebSourceFrom()},async reloadWebDb(){return"cloud"==this.webSourceFrom?await R["cloud"].reloadDBPathFSByLabel():await R["db"].reloadDBPathFSByLabel()},async proxy_njsFn(e,t){return await R[this.webSourceFrom].njsFn(e,t)},async proxy_njsAsync(e,t){return await R[this.webSourceFrom].njsAsync(e,t)},async proxy_njsFn2Db(e,t){return await R[this.webSourceFrom].njsFn2Db(e,t)},async proxy_source_njsAsync(e,t,o){return await R[e].njsAsync(t,o)}}})},50184:(e,t,o)=>{"use strict";o.d(t,{B:()=>i});var r=o(30705);const i=(0,r.nY)("routeData",{state:()=>({href:"",anchor:"",anchorDoGoTo:!1,urlPathSelect:null,urlPathChange:!1,urlPathSelectIgnoreDefault:!1,autologin:null,explorer:{userid:"",path:"/index.md",anchor:""}})})},42634:()=>{}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=e,(()=>{o.amdO={}})(),(()=>{var e=[];o.O=(t,r,i,a)=>{if(!r){var n=1/0;for(c=0;c<e.length;c++){for(var[r,i,a]=e[c],l=!0,s=0;s<r.length;s++)(!1&a||n>=a)&&Object.keys(o.O).every((e=>o.O[e](r[s])))?r.splice(s--,1):(l=!1,a<n&&(n=a));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,i,a]}})(),(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[]))})(),(()=>{o.u=e=>"js/"+e+"."+{33:"18707453",178:"c2b3fb29",797:"f0f90e68",972:"aa337ab2"}[e]+".js"})(),(()=>{o.miniCssF=e=>"css/"+e+".f74e4fe3.css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="explorer-web:";o.l=(r,i,a,n)=>{if(e[r])e[r].push(i);else{var l,s;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+a),l.src=r),e[r]=[i];var f=(t,o)=>{l.onerror=l.onload=null,clearTimeout(m);var i=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(o))),t)return t(o)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{o.j=524})(),(()=>{o.p=""})(),(()=>{if("undefined"!==typeof document){var e=(e,t,r,i,a)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",o.nc&&(n.nonce=o.nc);var l=o=>{if(n.onerror=n.onload=null,"load"===o.type)i();else{var r=o&&o.type,l=o&&o.target&&o.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+l+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=r,s.request=l,n.parentNode&&n.parentNode.removeChild(n),a(s)}};return n.onerror=n.onload=l,n.href=t,r?r.parentNode.insertBefore(n,r.nextSibling):document.head.appendChild(n),n},t=(e,t)=>{for(var o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var i=o[r],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){i=n[r],a=i.getAttribute("data-href");if(a===e||a===t)return i}},r=r=>new Promise(((i,a)=>{var n=o.miniCssF(r),l=o.p+n;if(t(n,l))return i();e(r,l,null,i,a)})),i={524:0};o.f.miniCss=(e,t)=>{var o={972:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=r(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))}}})(),(()=>{o.b=document.baseURI||self.location.href;var e={524:0};o.f.j=(t,r)=>{var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((o,r)=>i=e[t]=[o,r]));r.push(i[2]=a);var n=o.p+o.u(t),l=new Error,s=r=>{if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,i[1](l)}};o.l(n,s,"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[n,l,s]=r,d=0;if(n.some((t=>0!==e[t]))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(s)var c=s(o)}for(t&&t(r);d<n.length;d++)a=n[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},r=globalThis["webpackChunkexplorer_web"]=globalThis["webpackChunkexplorer_web"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[121],(()=>o(91522)));r=o.O(r)})();